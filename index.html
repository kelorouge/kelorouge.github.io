<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Kelo's personal page">
    <title>Kelo's Page</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Comic+Neue&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-primary: #231942;
            --color-secondary: #9F86C0;
            --color-accent: #E0B1CB;
            --color-background: #BE95C4;
            --color-text: #E0B1CB;
            --color-border: #5E548E;
        }

        @keyframes twinkle {
            0% { transform: scale(0.8); opacity: 0.3; }
            100% { transform: scale(1); opacity: 1; }
        }

        @keyframes scroll-left {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100%); }
        }

        body {
            background-color: var(--color-primary);
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
			font-weight: bold;
            margin: 0;
            padding: 20px;
            color: var(--color-text);
            position: relative;
            overflow-x: hidden;
        }

        .scroll-container {
            width: 80%;
            margin: -10px auto 10px;
            overflow: hidden;
            white-space: nowrap;
        }

        .scroll-text {
            display: inline-block;
            color: #D0B0DC;
            animation: scroll-left 20s linear infinite;
            padding-left: 100%;
        }

        .profile-area {
            position: relative;
            background: linear-gradient(45deg, var(--color-secondary), var(--color-border));
            display: flex;
            align-items: center;
            padding: 20px;
            margin: 0 0 10px 7.5%;
            border: 3px solid var(--color-border);
            width: 250px; /* Fixed width instead of percentage */
            min-width: 250px; /* Ensure minimum width */
            border-radius: 15px;
            justify-content: flex-start;
            box-sizing: border-box;
        }

        .profile-info {
            display: flex;
            align-items: center;
            width: 100%;
        }

        .profile-pic {
            width: 100px;
            height: 100px;
            background-color: var(--color-background);
            border: 4px solid var(--color-accent);
            margin-right: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.2s ease-in-out;
            border-radius: 15px;
            flex-shrink: 0;
        }

        .profile-pic:hover {
            transform: scale(1.05);
        }

        .profile-pic img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 12px;
        }

        .profile-text {
            display: flex;
            flex-direction: column;
        }

        .profile-text h2,
        .profile-title {
            margin: 0;
        }

        .container {
            display: flex;
            width: 85%;
            min-height: 600px;
            margin: 20px auto;
            border: none;
            box-sizing: border-box;
        }

        .blog-sidebar {
            width: 15%;
            background-color: var(--color-background);
            padding: 10px;
            position: relative;
            border-radius: 15px;
            margin-right: 10px;
            padding-bottom: 70px;
            box-sizing: border-box;
        }

        .blog-post {
            cursor: pointer;
            padding: 10px;
            margin-bottom: 5px;
            background-color: var(--color-secondary);
            color: var(--color-text);
            transition: background-color 0.3s ease;
            border: none;
            width: 100%;
            text-align: left;
            font-family: inherit;
            font-size: inherit;
            border-radius: 8px;
            box-sizing: border-box;
        }

        .blog-post:hover,
        .blog-post.active {
            background-color: var(--color-border);
            font-weight: bold;
        }

        .social-icons {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px 0;
            background-color: var(--color-secondary);
            position: absolute;
            bottom: 10px;
            left: 10px;
            width: calc(100% - 20px);
            border-radius: 8px;
            box-sizing: border-box;
        }

        .social-icon {
            width: 35px;
            height: 35px;
            background-color: var(--color-border);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 7px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .social-icon:hover {
            transform: scale(1.1);
        }

        .social-icon a {
            color: var(--color-text);
            font-size: 18px;
            text-decoration: none;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .about-section {
            width: 85%;
            padding: 20px;
            background-color: #60558C;
            color: var(--color-text);
            font-size: 1.2rem;
            border-radius: 15px;
            border: 3px solid var(--color-border);
            margin-left: 10px;
            overflow-y: auto;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            box-sizing: border-box;
        }

        :focus-visible {
            outline: 2px solid var(--color-accent);
            outline-offset: 2px;
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }

            .scroll-container {
                width: 95%;
                margin: 0 auto 20px;
            }

            .profile-area {
                width: 100%;
                margin: 0 auto 20px;
                padding: 15px;
                flex-direction: row;
            }

            .profile-info {
                width: 100%;
                justify-content: flex-start;
            }

            .profile-text {
                min-width: 0; /* Allows text to wrap properly */
                word-wrap: break-word;
            }

            .profile-text h2 {
                font-size: 1.4em;
                margin-bottom: 4px;
            }

            .profile-title {
                font-size: 1.1em;
            }

            .profile-pic {
                width: 80px;
                height: 80px;
                margin-right: 15px;
            }

            .container {
                flex-direction: column;
                width: 100%;
                margin: 10px auto;
                min-height: auto;
            }

            .blog-sidebar {
                width: auto;
                margin: 0 0 20px 0;
                padding: 20px;
            }

            .tab-list {
                display: flex;
                flex-direction: column;
                gap: 12px;
            }

            .blog-post {
                margin: 0;
                padding: 15px;
                font-size: 1.1em;
            }

            .social-icons {
                position: static;
                margin-top: 25px;
                width: 100%;
                padding: 12px 0;
            }

            .about-section {
                width: auto;
                margin: 0;
                padding: 25px;
            }
        }

        @media (max-width: 480px) {
            .profile-pic {
                width: 70px;
                height: 70px;
            }

            .profile-text h2 {
                font-size: 1.2em;
            }

            .profile-title {
                font-size: 1em;
            }

            .blog-post {
                padding: 12px;
                font-size: 1em;
            }

            .social-icons {
                flex-wrap: wrap;
                gap: 15px;
                justify-content: space-around;
                padding: 15px 0;
            }

            .social-icon {
                margin: 0;
            }

            .about-section {
                padding: 20px;
            }
        }
		
		/* Drawing Canvas Styles */
.drawing-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 20px;
    margin-top: 20px;
}

#drawingCanvas {
    border: 3px solid var(--color-border);
    background-color: white;
    border-radius: 8px;
    cursor: crosshair;
}

.drawing-controls {
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
    justify-content: center;
}

.control-btn {
    padding: 8px 16px;
    background-color: var(--color-secondary);
    border: 2px solid var(--color-border);
    color: var(--color-text);
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
}

.control-btn:hover {
    background-color: var(--color-border);
}

#colorPicker {
    width: 50px;
    height: 40px;
    padding: 0;
    border: 2px solid var(--color-border);
    border-radius: 8px;
    cursor: pointer;
}

#brushSize {
    width: 100px;
}

@media (max-width: 768px) {
    #drawingCanvas {
        width: 100%;
        max-width: 400px;
    }
    
    .drawing-controls {
        width: 100%;
        justify-content: center;
    }
}

.tool-controls {
    display: flex;
    gap: 10px;
    align-items: center;
}

.control-select {
    padding: 8px;
    background-color: var(--color-secondary);
    border: 2px solid var(--color-border);
    color: var(--color-text);
    border-radius: 8px;
    cursor: pointer;
}

.button-controls {
    display: flex;
    gap: 10px;
    align-items: center;
}

#sendBtn {
    background-color: #9F86C0;
    font-weight: bold;
}

#sendBtn:hover {
    background-color: #BE95C4;
}

.icon-btn {
    color: var(--color-text);
    font-size: 1.2rem;
    cursor: pointer;
    padding: 8px;
    transition: transform 0.2s ease;
}

.icon-btn:hover {
    transform: scale(1.1);
}

.icon-btn:active {
    transform: scale(0.95);
}

.icon-btn.disabled {
    opacity: 0.5;
    cursor: not-allowed;
}
    </style>
</head>
<body>
    <div class="scroll-container">
        <div class="scroll-text">✨ Shooting Star ✨</div>
    </div>

    <div class="profile-area">
        <div class="profile-info">
            <div class="profile-pic">
                <a href="https://bsky.app/profile/rogue.red" target="_blank" rel="noopener noreferrer">
                    <img src="https://cdn.bsky.app/img/avatar/plain/did:plc:fmzp7iyocwxuadfrpmllnlfm/bafkreigzbmhdghl2xpiljuukvv52hljynazjh4elwno6fj4om4skunwkmm@jpeg" alt="Profile Picture" loading="lazy">
                </a>
            </div>
            <div class="profile-text">
                <h2>Kelo✨</h2>
                <h3 class="profile-title">Pixel Rogue</h3>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="blog-sidebar">
            <div class="tab-list" id="tabList">
                <!-- Tabs will be populated by JavaScript -->
            </div>
            
            <div class="social-icons">
                <div class="social-icon">
                    <a href="https://open.spotify.com/user/12156433469?si=ba65b834f69b4e2c" target="_blank" rel="noopener noreferrer">
                        <i class="fab fa-spotify"></i>
                    </a>
                </div>
                <div class="social-icon">
                    <a href="https://bsky.app/profile/rogue.red" target="_blank" rel="noopener noreferrer">
                        <i class="fab fa-bluesky"></i>
                    </a>
                </div>
                <div class="social-icon">
                    <a href="https://steamcommunity.com/profiles/76561198856300045/" target="_blank" rel="noopener noreferrer">
                        <i class="fab fa-steam"></i>
                    </a>
                </div>
            </div>
        </div>

        <div class="about-section" id="tabContent">
            <!-- Tab content will be populated by JavaScript -->
        </div>
    </div>

    <script>
        const tabs = [
            {
                id: 'tab-1',
                title: 'About Me',
                content: `
                    <h1>About Me</h1>
                    <p>Hi, I'm Kelo!<br>
				I'm a 25-year-old who enjoys playing video games, messing around with GBA reproduction cartridges, and creating pixel art!
				This year I've really gotten back into reading, having completed 41 books so far! While I mostly stick to fantasy novels, suggestions from any genre are always welcome! <br>
				</p>
				<p>
				All of my spaces are kept safe and positive, so please do not bring any drama or politics to me! My goal is to make you smile!
				
				
					
					
					
					
					
					
					</p>
					
                `
            },
            {
                id: 'tab-2',
                title: 'My Art',
                content: `
                    <h1>My Art</h1>
                    <p>Still a work in progress, but I'll share my art here soon!</p>
                `
            },
            {
                id: 'tab-3',
                title: 'GBA Carts',
                content: `
                    <h1>WIP</h1>
                    <p>WIP</p>
                `
            },
            {
    id: 'tab-4',
    title: 'Draw Stuff!',
    content: `
        <h1 style="text-align: center">Leave a drawing!</h1>
<p style="text-align: center">Feel free to draw something! It will be sent anonymously!</p>
        <div class="drawing-container">
            <canvas id="drawingCanvas" width="500" height="400"></canvas>
            <div class="drawing-controls">
                <div class="tool-controls">
                    <input type="color" id="colorPicker" value="#000000" title="Choose Color">
                    <i class="fas fa-undo icon-btn" id="undoBtn" title="Undo"></i>
                    <input type="range" id="brushSize" min="1" max="50" value="5" title="Brush Size">
                </div>
                <div class="button-controls">
                    <select id="toolSelect" class="control-select">
                        <option value="brush">Brush</option>
                        <option value="eraser">Eraser</option>
                        <option value="fill">Fill</option>
                    </select>
                    <button class="control-btn" id="clearBtn">Clear</button>
                    <button class="control-btn" id="sendBtn">Send to Kelo</button>
                </div>
            </div>
        </div>
    `
},
			
        ];

        document.addEventListener('DOMContentLoaded', () => {
            const tabList = document.getElementById('tabList');
            const tabContent = document.getElementById('tabContent');

            // Create tabs
            tabs.forEach(tab => {
                const button = document.createElement('button');
                button.className = 'blog-post';
                button.textContent = tab.title;
                button.dataset.tabId = tab.id;
                tabList.appendChild(button);
            });

            // Function to activate tab
            function activateTab(tabId) {
    // Update buttons
    document.querySelectorAll('.blog-post').forEach(btn => {
        btn.classList.remove('active');
    });
    document.querySelector(`[data-tab-id="${tabId}"]`).classList.add('active');

    // Update content
    const tab = tabs.find(t => t.id === tabId);
    tabContent.innerHTML = tab.content;

    // Initialize drawing if we're on the drawing tab
    if (tabId === 'tab-4') {
        const canvas = document.getElementById('drawingCanvas');
        if (canvas) {
            const ctx = canvas.getContext('2d');
            let isDrawing = false;
            let lastX = 0;
            let lastY = 0;
            let currentTool = 'brush';
            let lastColor = '#000000';

            // Undo functionality setup
            const undoStack = [];
            let isDrawingAction = false;

            // Set initial canvas background to white and save initial state
            ctx.fillStyle = 'white';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            undoStack.push(ctx.getImageData(0, 0, canvas.width, canvas.height));

            function saveCanvasState() {
                if (isDrawingAction) {
                    const state = ctx.getImageData(0, 0, canvas.width, canvas.height);
                    undoStack.push(state);
                    isDrawingAction = false;
                    
                    // Update undo button state
                    const undoBtn = document.getElementById('undoBtn');
                    undoBtn.classList.remove('disabled');
                }
            }

            function floodFill(startX, startY, fillColor) {
                isDrawingAction = true;
                // Get canvas data
                const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);
                const pixels = imageData.data;

                // Get the color we're targeting to replace
                const startPos = (Math.floor(startY) * canvas.width + Math.floor(startX)) * 4;
                const startR = pixels[startPos];
                const startG = pixels[startPos + 1];
                const startB = pixels[startPos + 2];

                // Convert fill color from hex to RGB
                const r = parseInt(fillColor.substr(1,2), 16);
                const g = parseInt(fillColor.substr(3,2), 16);
                const b = parseInt(fillColor.substr(5,2), 16);

                // Don't fill if we're trying to fill with the same color
                if (startR === r && startG === g && startB === b) return;

                function matchStartColor(pixelPos) {
                    return (
                        pixels[pixelPos] === startR &&
                        pixels[pixelPos + 1] === startG &&
                        pixels[pixelPos + 2] === startB
                    );
                }

                function colorPixel(pixelPos) {
                    pixels[pixelPos] = r;
                    pixels[pixelPos + 1] = g;
                    pixels[pixelPos + 2] = b;
                    pixels[pixelPos + 3] = 255;
                }

                const pixelsToCheck = [startPos];
                while (pixelsToCheck.length > 0) {
                    const currentPos = pixelsToCheck.pop();
                    if (!matchStartColor(currentPos)) continue;

                    let pixelPos = currentPos;
                    let x = (pixelPos / 4) % canvas.width;
                    let y = Math.floor((pixelPos / 4) / canvas.width);

                    // Fill upwards
                    while(y >= 0 && matchStartColor(pixelPos)) {
                        colorPixel(pixelPos);
                        if (x > 0 && matchStartColor(pixelPos - 4)) pixelsToCheck.push(pixelPos - 4);
                        if (x < canvas.width - 1 && matchStartColor(pixelPos + 4)) pixelsToCheck.push(pixelPos + 4);
                        y--;
                        pixelPos -= canvas.width * 4;
                    }

                    // Fill downwards
                    pixelPos = currentPos + canvas.width * 4;
                    y = Math.floor((pixelPos / 4) / canvas.width);
                    while(y < canvas.height && matchStartColor(pixelPos)) {
                        colorPixel(pixelPos);
                        if (x > 0 && matchStartColor(pixelPos - 4)) pixelsToCheck.push(pixelPos - 4);
                        if (x < canvas.width - 1 && matchStartColor(pixelPos + 4)) pixelsToCheck.push(pixelPos + 4);
                        y++;
                        pixelPos += canvas.width * 4;
                    }
                }

                ctx.putImageData(imageData, 0, 0);
                saveCanvasState();
            }

            function draw(e) {
                if (!isDrawing) return;
                isDrawingAction = true;
                
                const rect = canvas.getBoundingClientRect();
                const x = (e.clientX || e.touches[0].clientX) - rect.left;
                const y = (e.clientY || e.touches[0].clientY) - rect.top;

                ctx.beginPath();
                ctx.moveTo(lastX, lastY);
                ctx.lineTo(x, y);
                ctx.stroke();
                [lastX, lastY] = [x, y];
            }

            function startDrawing(e) {
                const rect = canvas.getBoundingClientRect();
                const x = (e.clientX || e.touches[0].clientX) - rect.left;
                const y = (e.clientY || e.touches[0].clientY) - rect.top;
                
                if (currentTool === 'fill') {
                    floodFill(x, y, colorPicker.value);
                    return;
                }

                isDrawing = true;
                [lastX, lastY] = [x, y];
            }

            // Mouse Events
            canvas.addEventListener('mousedown', startDrawing);
            canvas.addEventListener('mousemove', draw);
            canvas.addEventListener('mouseup', () => {
                isDrawing = false;
                saveCanvasState();
            });
            canvas.addEventListener('mouseout', () => {
                isDrawing = false;
                saveCanvasState();
            });

            // Touch Events
            canvas.addEventListener('touchstart', (e) => {
                e.preventDefault();
                startDrawing(e);
            });
            canvas.addEventListener('touchmove', (e) => {
                e.preventDefault();
                draw(e);
            });
            canvas.addEventListener('touchend', () => {
                isDrawing = false;
                saveCanvasState();
            });

            // Controls
            const toolSelect = document.getElementById('toolSelect');
            const colorPicker = document.getElementById('colorPicker');
            const brushSize = document.getElementById('brushSize');
            const clearBtn = document.getElementById('clearBtn');
            const sendBtn = document.getElementById('sendBtn');
            const undoBtn = document.getElementById('undoBtn');

            toolSelect.addEventListener('change', (e) => {
                currentTool = e.target.value;
                if (currentTool === 'eraser') {
                    lastColor = ctx.strokeStyle;
                    ctx.strokeStyle = '#FFFFFF';
                } else if (currentTool === 'brush') {
                    ctx.strokeStyle = lastColor;
                }
            });

            colorPicker.addEventListener('input', (e) => {
                lastColor = e.target.value;
                if (currentTool !== 'eraser') {
                    ctx.strokeStyle = lastColor;
                }
            });

            brushSize.addEventListener('input', (e) => {
                ctx.lineWidth = e.target.value;
            });

            clearBtn.addEventListener('click', () => {
                isDrawingAction = true;
                ctx.fillStyle = 'white';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = colorPicker.value;
                saveCanvasState();
            });

            undoBtn.addEventListener('click', () => {
                if (undoStack.length > 1) {
                    undoStack.pop(); // Remove current state
                    const previousState = undoStack[undoStack.length - 1];
                    ctx.putImageData(previousState, 0, 0);
                    
                    // Disable undo button if we're back to initial state
                    if (undoStack.length === 1) {
                        undoBtn.classList.add('disabled');
                    }
                }
            });

            sendBtn.addEventListener('click', async () => {
                // Art Webhook
                const webhookUrl = 'https://discord.com/api/webhooks/1324823445082607706/WFRr5qQlIf7584EYlb62BgPbzoq19nGKXfNrJncnHtMW1kXgsp6Hq_RUqqWu5AOyx3FZ';
                
                try {
                    sendBtn.disabled = true;
                    sendBtn.textContent = 'Sending...';
                    
                    const imageData = canvas.toDataURL().split(',')[1];
                    
                    const response = await fetch(webhookUrl, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json',
                        },
                        body: JSON.stringify({
                            content: 'New drawing received!',
                            embeds: [{
                                image: {
                                    url: 'attachment://drawing.png'
                                }
                            }],
                            attachments: [{
                                id: 0,
                                description: 'Drawing',
                                filename: 'drawing.png',
                                content_type: 'image/png',
                                data: imageData
                            }]
                        })
                    });

                    if (response.ok) {
                        sendBtn.textContent = 'Sent!';
                        setTimeout(() => {
                            sendBtn.disabled = false;
                            sendBtn.textContent = 'Send to Kelo';
                        }, 2000);
                    } else {
                        throw new Error('Failed to send');
                    }
                } catch (error) {
                    sendBtn.textContent = 'Failed to send';
                    setTimeout(() => {
                        sendBtn.disabled = false;
                        sendBtn.textContent = 'Send to Kelo';
                    }, 2000);
                }
            });

            // Initialize drawing settings
            ctx.strokeStyle = colorPicker.value;
            ctx.lineWidth = brushSize.value;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';
        }
    }
}

            // Add click listeners
            tabList.addEventListener('click', (e) => {
                const button = e.target.closest('.blog-post');
                if (!button) return;
                activateTab(button.dataset.tabId);
            });

            // Add keyboard navigation
            tabList.addEventListener('keydown', (e) => {
                const button = e.target.closest('.blog-post');
                if (!button) return;

                const buttons = [...document.querySelectorAll('.blog-post')];
                const currentIndex = buttons.indexOf(button);
                let newIndex;

                switch(e.key) {
                    case 'ArrowRight':
                    case 'ArrowDown':
                        newIndex = (currentIndex + 1) % buttons.length;
                        break;
                    case 'ArrowLeft':
                    case 'ArrowUp':
                        newIndex = (currentIndex - 1 + buttons.length) % buttons.length;
                        break;
                    default:
                        return;
                }

                e.preventDefault();
                buttons[newIndex].focus();
                activateTab(buttons[newIndex].dataset.tabId);
            });

            // Activate first tab by default
            activateTab('tab-1');
        });

        // Create starry background
        const createStarryBackground = () => {
            const background = document.createElement('div');
            Object.assign(background.style, {
                position: 'fixed',
                top: '0',
                left: '0',
                width: '100%',
                height: '100%',
                pointerEvents: 'none',
                zIndex: '-1'
            });
            
            const fragment = document.createDocumentFragment();
            const numStars = 200;
            
            for (let i = 0; i < numStars; i++) {
                const star = document.createElement('div');
                const size = Math.random() * 3 + 1;
                Object.assign(star.style, {
                    position: 'absolute',
                    backgroundColor: '#fff',
                    borderRadius: '50%',
                    opacity: Math.random(),
                    width: `${size}px`,
                    height: `${size}px`,
                    top: `${Math.random() * 100}%`,
                    left: `${Math.random() * 100}%`,
                    animation: `twinkle ${Math.random() * 3 + 2}s infinite alternate`
                });
                fragment.appendChild(star);
            }
            
            background.appendChild(fragment);
            document.body.appendChild(background);
        };

        createStarryBackground();
    </script>
</body>
</html>
